<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="./main.css">
	<link href="https://fonts.googleapis.com/css?family=Cabin|Lobster" rel="stylesheet">
	<title>Sam and Brittany Wedding</title>
	
</head>
<body>
	<div class="background">
		<div class="allTheShit">
			<div class="title">
				<h1>Chuck's Wedding Initiator Page</h1>
			</div>
			<div class="touchArea">
                <button name="shape" class="playSong">Start Shape Song</button>
                <button name="Muzaktica" class="playSong">Start Muzaktica</button>
			</div>
		</div>
    </div>
    <script>
        // TODO cancel other song stream when starting new song
        const songButtons = document.getElementsByClassName('playSong');
        console.log(songButtons);
        Array.from(songButtons).forEach(element => {
            const songName = element.getAttribute('name');
            element.addEventListener('click',playShape);
            function playShape() {
                var xmlHttp = new XMLHttpRequest();
                xmlHttp.onreadystatechange = function() { 
                    if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
                        alert(xmlHttp.responseText);
                        console.log(xmlHttp.responseText)
                    }
                }
                xmlHttp.open("GET", 'http://localhost:8080/streamSong/' + songName, true); // true for asynchronous 
                xmlHttp.send(null);
            }
        });
    </script>
</body>
</html>